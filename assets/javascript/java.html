<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- <script src="assets/javascript/duration.js"></script> -->

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Preoject</title>

<body class="bg-transparent">
    <div class="container">

        <div id="article2"></div>
        <br>
        <div id="article"></div>
        <div id="art3"></div>

        <div class="jumbotron">
            <h1 class="display-4">Language Translator</h1>
            <p class="lead">Welcome all! This page aims to translate <del>boring</del> common english into all sorts of
                languages from
                your favorite tv shows and movies
            </p>
            <hr class="my-4">
            <p>It makes use of various APIs</p>
            <a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a>
        </div>
        <div id="original-txt">
            <h1 id="original-h1"></h1>
            <h3 id="original-h3"></h3>
        </div>
        <div id="trans-txt">
            <h1 id="trans-h1"></h1>
            <h3 id="trans-h3"></h3>
        </div>

        <div id="fact-txt">
            <h1 id="fact-h1"></h1>
            <h3 id="fact-h3"></h3>
        </div>

        <!-- Button trigger modal -->
        <button id="newbtn" type="button" class="btn btn-outline-warning" data-toggle="modal"
            data-target="#translationModal">
            Translate Now!
        </button>
        <!-- Modal -->
        <div class="modal fade" id="translationModal" tabindex="-1" role="dialog" aria-labelledby="translationModal"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Make a funny translation</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <button id="closebtn" type="button" class="btn" data-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form class="needs-validation" novalidate>

                            <div class="form-group">
                                <label for="trans-text">Text to translate:</label>
                                <input type="text" class="form-control" id="trans-text"
                                    placeholder="Type text in English please" name="trans-text" required>
                                <div id="validation-text"></div>
                            </div>
                            <div class="container">
                                <div class="row ">
                                    <div class="col-sm align-self-center">
                                        <button id="yodabtn" type="submit" class="btn btn-outline-warning"></button>
                                        <p class="btn-text">To Yoda</p>
                                    </div>
                                    <div class="col-sm align-self-center">
                                        <button id="sithbtn" type="submit" class="btn btn-outline-warning"></button>
                                        <p class="btn-text">To Sith</p>
                                    </div>
                                    <div class="col-sm align-self-center">
                                        <button id="klinbtn" type="submit" class="btn btn-outline-warning"></button>
                                        <p class="btn-text">To Klingon</p>
                                    </div>
                                    <div class="col-sm align-self-center">
                                        <button id="piratebtn" type="submit" class="btn btn-outline-warning"></button>
                                        <p class="btn-text">To Pirate</p>
                                    </div>
                                    <div class="col-sm align-self-center">
                                        <button id="minionbtn" type="submit" class="btn btn-outline-warning"></button>
                                        <p class="btn-text">To Minion</p>
                                    </div>
                                    <div class="col-sm align-self-center">
                                        <button id="gunganbtn" type="submit" class="btn btn-outline-warning"></button>
                                        <p class="btn-text">To Gungan</p>
                                    </div>
                                    <div class="col-sm align-self-center">
                                        <button id="morsebtn" type="submit" class="btn btn-outline-warning"></button>
                                        <p class="btn-text">To Morse</p>
                                    </div>
                                    <div class="col-sm">
                                        <button id="ferbbtn" type="submit" class="btn btn-outline-warning"></button>
                                        <p class="btn-text">To FerbLatin</p>
                                    </div>
                                </div>
                            </div>


                        </form>
                    </div>
                </div>
            </div>
        </div>






        <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


        <script>
            var key = "55c220cb58mshee0f3639dbd0c90p1bb460jsn121fe9054ac1";
            var keyFun = "test";


            $("#newbtn").click(function (event) {
                event.preventDefault();

                $("#original-h1").empty();
                $("#original-h3").empty();
                $("#trans-h1").empty();
                $("#trans-h3").empty();
                $("#fact-h1").empty();
                $("#fact-h3").empty();

            });

            $("#yodabtn").click(function (event) {
                event.preventDefault();
                yodaCall();
            });

            $("#sithbtn").click(function (event) {
                event.preventDefault();
                sithCall();
            });

            $("#klinbtn").click(function (event) {
                event.preventDefault();
                klingonCall();
            });

            $("#piratebtn").click(function (event) {
                event.preventDefault();
                pirateCall();
            });


            $("#minionbtn").click(function (event) {
                event.preventDefault();
                minionCall();
            });

            $("#gunganbtn").click(function (event) {
                event.preventDefault();
                gunganCall();
            });


            $("#ferbbtn").click(function (event) {
                event.preventDefault();
                ferbCall();
            });

            $("#morsebtn").click(function (event) {
                event.preventDefault();
                morseCall();
            });

            //app  code's functions
            function renderTranslation(result) {
                $(".jumbotron").hide();
                $('#translationModal').modal('toggle');
                $("#original-h1").text("Your original text was:");
                $("#original-h3").text(result.contents.text);
                $("#trans-h1").text("Translated to " + result.contents.translation + " language You would say:");
                $("#trans-h3").text(result.contents.translated);
                
            }

            function facts(frase) {
                $.ajax({
                    type: "GET",
                    url: "http://en.wikipedia.org/w/api.php?action=parse&format=json&prop=text&section=0&page=" + frase + "&callback=?",
                    contentType: "application/json; charset=utf-8",
                    async: false,
                    dataType: "json",
                    success: function (data, textStatus, jqXHR) {
                        var markup = data.parse.text["*"];
                        //$("#response").text(JSON.stringify(data))
                        var blurb = $('<div></div>').html(markup);
                        // remove links as they will not work
                        blurb.find('a').each(function () { $(this).replaceWith($(this).html()); });
                        // remove any references
                        blurb.find('sup').remove();
                        // remove cite error
                        blurb.find('.mw-ext-cite-error').remove();
                        $("#fact-h1").text("Some Facts:");
                        $('#fact-h3').html($(blurb).find('p'));
                    },

                    error: function (errorMessage) {
                    }
                });
            }


            function yodaCall() {
                var newInput = $("#trans-text").val().trim();
                if (newInput == "") {
                    $("#validation-text").text("Type something please");
                    setTimeout(function () { $("#validation-text").empty(); }, 2000);
                }
                else {
                    // Yoda translations
                    $.ajax({
                        url: "https://yodish.p.rapidapi.com/yoda.json?text=" + newInput,
                        method: 'POST',
                        headers: {
                            'cache-control': 'no-cache',
                            'Content-Type': 'application/json',
                            'X-RapidAPI-Key': key,
                            'header1': 'header-value-1'
                        },
                    }).then(function (translation) {
                        console.log(translation);
                        console.log(translation.contents);

                        renderTranslation(translation);
                    });
                    //wikipwdia
                    var frase = "yoda"
                    facts(frase);
                }
            }

            function sithCall() {
                var newInput = $("#trans-text").val().trim();
                if (newInput == "") {
                    $("#validation-text").text("Type something please");
                    setTimeout(function () { $("#validation-text").empty(); }, 2000);
                }
                else {
                    // siith translations
                    $.ajax({
                        url: "https://sith.p.rapidapi.com/sith.json?text=" + newInput,
                        method: 'GET',
                        headers: {
                            'cache-control': 'no-cache',
                            'Content-Type': 'application/json',
                            'X-RapidAPI-Key': key,
                            'header1': 'header-value-1'
                        },
                    }).then(function (translation) {
                        console.log(translation);
                        console.log(translation.contents);
                       // console.log("length"+JSON.stringify(translation.success.total));
                        renderTranslation(translation);
                    });
                    //wikipwdia
                    var frase = "Darth Maul: Shadow Hunter"
                    facts(frase);
                }
            }

            function klingonCall() {
                var newInput = $("#trans-text").val().trim();
                if (newInput == "") {
                    $("#validation-text").text("Type something please");
                    setTimeout(function () { $("#validation-text").empty(); }, 2000);
                }
                else {
                    // kinglon translations
                    $.ajax({
        url: "https://klingon.p.rapidapi.com/klingon?text=" + newInput,
       method: 'GET',
  headers: {
    "X-RapidAPI-Host": "klingon.p.rapidapi.com",
    'X-RapidAPI-Key': key,
    "X-FunTranslations-Api-Secret": keyFun,
  },
                    }).then(function (translation) {
                        console.log(translation);
                        console.log(translation.contents);
                        renderTranslation(translation);
                    });
                    //wikipwdia
                    var frase = "Klingon"
                    facts(frase);
                }
            }

            function pirateCall() {
                var newInput = $("#trans-text").val().trim();
                if (newInput == "") {
                    $("#validation-text").text("Type something please");
                    setTimeout(function () { $("#validation-text").empty(); }, 2000);
                }
                else {
                    // Pirate translations
                    $.ajax({
                        url: "https://rapidapi.p.rapidapi.com/pirate.json?text=" + newInput,
            method: 'POST',
  headers: { 
   'Content-Type': 'application/x-www-form-urlencoded',
    "X-RapidAPI-Host": "piratespeak.p.rapidapi.com",
    'X-RapidAPI-Key': key,
  },
                    }).then(function (translation) {
                        console.log(translation);
                        console.log(translation.contents);
                        renderTranslation(translation);
                    });
                    //wikipwdia
                    var frase = "Ahoy_(greeting)"
                    facts(frase);
                }
            }

            function minionCall() {
                var newInput = $("#trans-text").val().trim();
                if (newInput == "") {
                    $("#validation-text").text("Type something please");
                    setTimeout(function () { $("#validation-text").empty(); }, 2000);
                }
                else {
                    // Minion translations
                    $.ajax({
                        url: "https://rapidapi.p.rapidapi.com/minion.json?text=" + newInput,
       method: 'POST',
  headers: { 
    'cache-control': 'no-cache',
    'Content-Type': 'application/x-www-form-urlencoded',
    "X-RapidAPI-Host": "minion.https://rapidapi.p.rapidapi.com",
    'X-RapidAPI-Key': key,
   
  },
                    }).then(function (translation) {
                        console.log(translation);
                        console.log(translation.contents);
                        renderTranslation(translation);
                    });
                    //wikipwdia
                    var frase = "Minions_(film)"
                    facts(frase);
                }
            }


            function gunganCall() {
                var newInput = $("#trans-text").val().trim();
                if (newInput == "") {
                    $("#validation-text").text("Type something please");
                    setTimeout(function () { $("#validation-text").empty(); }, 2000);
                }
                else {
                    // Gungan translations
                    $.ajax({
                        url: "https://gungan.p.rapidapi.com/gungan.json?text=" + newInput,
       method: 'GET',
  headers: { 
    "X-RapidAPI-Host": "gungan.p.rapidapi.com",
    'X-RapidAPI-Key': key,
  },
                    }).then(function (translation) {
                        console.log(translation);
                        console.log(translation.contents);
                        renderTranslation(translation);
                    });
                    //wikipwdia
                    var frase = "Jar_Jar_Binks"
                    facts(frase);
                }
            }


            function ferbCall() {
                var newInput = $("#trans-text").val().trim();
                if (newInput == "") {
                    $("#validation-text").text("Type something please");
                    setTimeout(function () { $("#validation-text").empty(); }, 2000);
                }
                else {
                    // FerbLatin translations
                    $.ajax({
                        url: "https://erblatin.p.rapidapi.com/ferblatin.json?text=" + newInput,
       method: 'GET',
  headers: { 
    "X-RapidAPI-Host": "ferblatin.p.rapidapi.com",
    'X-RapidAPI-Key': key,
  },
                    }).then(function (translation) {
                        console.log(translation);
                        console.log(translation.contents);
                        renderTranslation(translation);
                    });
                    //wikipwdia
                    var frase = "Phineas_and_Ferb"
                    facts(frase);
                }
            }

            function morseCall() {
                var newInput = $("#trans-text").val().trim();
                if (newInput == "") {
                    $("#validation-text").text("Type something please");
                    setTimeout(function () { $("#validation-text").empty(); }, 2000);
                }
                else {
                    // Morse code translations
                    $.ajax({
                        url: "https:///morse.p.rapidapi.com/morse.json?text=" + newInput,
       method: 'POST',
  headers: { 
   'Content-Type': 'application/x-www-form-urlencoded',
    "X-RapidAPI-Host": "morse.p.rapidapi.com",
    'X-RapidAPI-Key': key,
    "X-FunTranslations-Api-Secret": keyFun,
  },
                    }).then(function (translation) {
                        console.log(translation);
                        console.log(translation.contents);
                        renderTranslation(translation);
                    });
                    //wikipwdia
                    var frase = "morse code"
                    facts(frase);
                }
            }
        </script>

</body>

</html>